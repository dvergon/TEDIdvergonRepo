<!DOCTYPE HTML>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<html>

	<head>

		<script src="http://www.html5canvastutorials.com/libraries/kinetic-v4.3.0-beta2.js"></script>
		<script src="../js/OD_memorize.js" type="text/javascript"></script>
		<link rel="stylesheet" type="text/css" href="../css/OD_memorize.css">

		<title>Memorize v1</title>		

	</head>

	<body>

		<div id="container"></div>

		<script>

			function cambiarImg(){

				anim.stop();
				imagen.setImage(imageObj2);
				layer.draw();
				anim2.start();
				window.setTimeout("anim2.stop()",500);
			}

			var stage = new Kinetic.Stage({
        		container: 'container',
       			width: 600,
        		height: 300
      		});

      		var layer = new Kinetic.Layer();

      		var imageObj = new Image();
      		var imageObj2 = new Image();

      		imageObj.src = "../images/frontal.png";
      		imageObj2.src = "../images/1.png";


      		
        		var imagen = new Kinetic.Image({
          		x: stage.getWidth() / 2,
          		y: stage.getHeight() / 2,
          		image: imageObj,
          		width: 150,
          		height: 275,
          		offset: [75, 132]
        	});

      		layer.add(imagen);
      		stage.add(layer);

      		var period = 2000;

      		var anim = new Kinetic.Animation(function(frame) {
        		var scale = Math.sin(frame.time * 2 * Math.PI / period) + 0.001;
        		imagen.setScale(scale, 1);
      		}, layer);

      		var anim2 = new Kinetic.Animation(function(frame) {
        		var scale = Math.sin(frame.time * 2 * Math.PI / period) + 0.001;
        		imagen.setScale(scale, 1);
      		}, layer);

      		anim.start();
      		window.setTimeout("cambiarImg()",1000);

		</script>

	</body>

</html>